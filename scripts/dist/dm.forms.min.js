dm.globalComponentFactory("forms",function(a){var b={};if(a.validator){var c="validatedateofbirth";a.validator.unobtrusive&&a.validator.unobtrusive.adapters.add(c,["yearproperty","monthproperty","dayproperty"],function(a){a.rules[c]={yearSelector:"#"+a.params.yearproperty,monthSelector:"#"+a.params.monthproperty,daySelector:"#"+a.params.dayproperty},a.messages[c]=a.message},""),a.validator.addMethod(c,function(b,c,d){var e=a(d.monthSelector).val()+"/"+a(d.daySelector).val()+"/"+a(d.yearSelector).val();return dm.utilities.date.isDate(e)}),c="validatedatedobrestriction",a.validator.unobtrusive&&a.validator.unobtrusive.adapters.add(c,["yearproperty","monthproperty","dayproperty","agelimitproperty","mindateproperty"],function(a){a.rules[c]={yearSelector:"#"+a.params.yearproperty,monthSelector:"#"+a.params.monthproperty,daySelector:"#"+a.params.dayproperty,ageLimit:a.params.agelimitproperty,minDate:a.params.mindateproperty},a.messages[c]=a.message},""),a.validator.addMethod(c,function(b,c,d){var e=a(d.monthSelector).val()+"/"+a(d.daySelector).val()+"/"+a(d.yearSelector).val();if(dm.utilities.date.isDate(e)){var f=new Date(a(d.yearSelector).val(),a(d.monthSelector).val()-1,a(d.daySelector).val());if(d.minDate.length>0){var g=d.minDate.split("/"),h=new Date(g[2],g[1]-1,g[0]);if(h>f)return!1}var i=new Date,j=i.getFullYear()-f.getFullYear();return f>i.setFullYear(i.getFullYear()-j)&&j--,j<d.ageLimit?!1:!0}return!1}),b.atLeastSelectOneSelectors=b.atLeastSelectOneSelectors||[],b.atLeastSelectOneSelectors.forEach(function(b,d,e){var f=b;if(a.validator){c="selectone",a.validator.addMethod(c,function(b,c,d){return a("input[name="+a(c).attr("name")+"]:checked").length>0}),a.validator.addClassRules(f,{selectone:!0});var g=a("."+f).eq(0).attr("data-val-required");a.validator.messages.selectone=g}}),a.validator.addMethod("mustbetrue",function(a,b,c){return b.checked}),a.validator.unobtrusive&&a.validator.unobtrusive.adapters.addBool("mustbetrue");var d=function(b){var c=dm.config.forms.jqueryValidateDefaults,d=jQuery.extend(!0,c,b);a.validator.setDefaults(d)};d(b.jqueryValDefaults||{})}return b.errorClass="field-validation-error",b.validClass="field-validation-valid",b.errorElement="span",b.errorPlacement=function(b,c){var d=a(c).attr("name");b.insertAfter(a('[data-valmsg-for="'+d+'"]'))},b},{terms:{selector:".terms"},jqueryValidateDefaults:{ignore:null,highlight:function(a,b,c){$.validator.unobtrusive||(b="input-validation-error",c="input-validation-valid",$(a).addClass(b).removeClass(c))},unhighlight:function(a,b,c){$.validator.unobtrusive||(b="input-validation-error",c="input-validation-valid",$(a).removeClass(b).addClass(c))}}},[jQuery]),function(a,b){"use strict";return alert(1),a("input[data-dm-form-value]").each(function(){var b=a(this),c=b.data("dm-form-value"),d=[],e=c,f=function(a){this.placeholder=a,this.selector=this.placeholder.replace("{","#").replace("}","")};for(f.prototype.value=function(){return a(this.selector).val()};e.indexOf("{")>=0;){var g=e.substr(e.indexOf("{"),e.indexOf("}")+1);d.push(new f(g)),e=e.substr(e.indexOf("}")+2)}d.forEach(function(d,e,f){a(d.selector).off("change.dm-form-value").on("change.dm-form-value",function(){var a=c,d=!0;f.forEach(function(b){var c=b.value();a=a.replace(b.placeholder,c),(void 0===c||""===c)&&(d=!1)}),b.val(a),d&&b.valid()})})}),a("*[data-dm-form-mustread]").each(function(){var b=a(this),c=b.data("dm-form-mustread"),d=a(c);b.attr("disabled","disabled"),d.off("scroll.dm-form-mustread").on("scroll.dm-form-mustread",function(){var c=a(this).height();this.scrollHeight<=this.scrollTop+c?b.removeAttr("disabled"):b.attr("disabled","disabled")})}),b}(jQuery,dm.forms);